(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"3irV":function(e,t,n){"use strict";n.r(t);var a=n("J4zp"),o=n.n(a),i=n("q1tI"),r=n.n(i),c=n("FjVW"),s=n("58q0"),l=n("/MKj"),u=n("o0o1"),d=n.n(u),m=n("yXPU"),f=n.n(m),p=n("vDqi"),h=n.n(p),b=n("xOOu"),g=n.n(b),y=function(e){var t=function(e){return/[^/\\&\?]+\.\w{3,4}(?=[\?&].*$|$)/.exec(e)[0]}(e);return t.substring(t.lastIndexOf("."))},v=function(e){return-1!==e.indexOf(".jpg")||-1!==e.indexOf(".png")||-1!==e.indexOf(".gif")||-1!==e.indexOf(".gifv")},w=function(e,t){var n=window.URL.createObjectURL(new Blob([e])),a=document.createElement("a");a.href=n,a.setAttribute("download",t),document.body.appendChild(a),a.click()},k=function(){var e=f()(d.a.mark((function e(t,n){var a,o,i,r,c,s,l,u,m;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=document.getElementById(n+"-download-image")).innerHTML="Downloading",!v(t)){e.next=10;break}return e.next=5,h.a.get("https://young-moon-cab4.tnah-work.workers.dev/?"+t,{responseType:"arraybuffer",headers:{"Content-Type":"application/json",Accept:"application/image/*"}});case 5:o=e.sent,w(o.data,"RVN-"+n+y(t)),a.innerHTML="Downloaded",e.next=33;break;case 10:if(!t.startsWith("http://imgur.com/a/")&&!t.startsWith("https://imgur.com/a/")){e.next=26;break}return i=t.substring(t.lastIndexOf("/")+1),e.next=14,h.a.get("https://api.imgur.com/3/album/"+i,{headers:{"Content-Type":"application/json",authorization:"Client-ID 0d6763dedc73059"}});case 14:return r=e.sent,c=new g.a,s=r.data.data.images.map((function(e){return h.a.get("https://young-moon-cab4.tnah-work.workers.dev/?"+e.link,{responseType:"arraybuffer",headers:{"Content-Type":"application/json"}}).then((function(n){c.file(e.id+y(t),n.data,{base64:!0})})).catch((function(e){console.log(e)}))})),e.next=19,Promise.all(s);case 19:return e.next=21,c.generateAsync({type:"uint8array"});case 21:l=e.sent,w(l,"RVN-"+i+".zip"),a.innerHTML="Downloaded",e.next=33;break;case 26:if(!t.startsWith("http://imgur.com/")&&!t.startsWith("https://imgur.com/")){e.next=33;break}return u=t.substring(t.lastIndexOf("/")+1),e.next=30,h.a.get("https://api.imgur.com/3/image/"+u,{responseType:"arraybuffer",headers:{"Content-Type":"application/json",authorization:"Client-ID 0d6763dedc73059"}});case 30:m=e.sent,w(m.data,"RVN-"+n+y(t)),a.innerHTML="Downloaded";case 33:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=n("IGOO"),E=(n("FNPF"),n("vQVb")),C=Object(i.lazy)((function(){return n.e(4).then(n.bind(null,"587b"))})),N={deleteTab:c.b,deleteAllReplies:s.b};t.default=r.a.memo(Object(l.b)(null,N)((function(e){var t=Object(i.useState)(!1),n=o()(t,2),a=n[0],c=n[1],s=Object(i.useState)(!1),l=o()(s,2),u=l[0],d=l[1],m=Object(i.useState)(!1),f=o()(m,2),p=f[0],h=f[1],b=e.tabID,g=e.link,y=e.title,v=e.subReddit,w=e.upvotes,N=e.id,I=e.uuid,x=e.savePost,O=Object(i.useState)(""),j=o()(O,2),A=j[0],M=j[1];Object(i.useEffect)((function(){""!==e.credit&&M(e.credit)}),[e.credit]);return r.a.createElement("header",{className:"section-header"},r.a.createElement("div",{className:"section-wrapper"},r.a.createElement("h1",null,r.a.createElement("svg",{className:"section-icon"},r.a.createElement("use",{xlinkHref:e.iconHref})),y?y+" (Subreddit: ".concat(v," | ").concat(w," points)"):"Tab này chưa có bài dịch nào"),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:e.handleSubmitLink,style:{display:"flex"}},r.a.createElement("input",{className:"demo-input",name:"link","aria-label":"Link to translate",placeholder:"Nhập link reddit để bắt đầu dịch",defaultValue:g.replace(/(\/+)$/,"")||"",disabled:""!==g}),r.a.createElement("button",{className:"demo-button"},"Bắt đầu dịch")),r.a.createElement("p",null,"Mở ",r.a.createElement("a",{href:g?g.replace(/(\/+)$/,""):"blank"!==e.category?"https://www.reddit.com/".concat(e.category):"https://www.reddit.com/",target:"_blank"},"link reddit này",r.a.createElement("span",{className:"u-visible-to-screen-reader"},"(opens in new window)"))," trong tab mới."),r.a.createElement("div",{className:"wrap",style:{justifyContent:"space-between",marginRight:"10%"}},r.a.createElement("div",{style:{marginBottom:"5px"}},r.a.createElement("button",{className:"demo-button",id:b+"-preview",onClick:e.previewContent},"Preview"),r.a.createElement("button",{className:"demo-button",id:b+"-note",onClick:function(){return c(!0)}},"Note"),r.a.createElement("button",{className:"demo-button",id:b+"-save",onClick:function(){x().then((function(){Object(E.c)(N,I,{timemark:Date.now(),value:""!==A?A:"Một member chăm chỉ nào đó"})})).catch((function(e){console.log(e)}))}},"Save"),r.a.createElement("button",{className:"demo-button",id:b+"-delete",onClick:function(){Object(T.confirmAlert)({title:"Bạn chắc chứ ?",message:"Bạn thật sự muốn xoá tab này ?",buttons:[{label:"Xoá",onClick:function(){e.deleteTab(b,e.category),e.deleteAllReplies(b),Object(E.a)(N,I)}},{label:"Mình nhầm"}]})}},"Delete")),r.a.createElement("form",{style:{display:"flex"},onSubmit:e.handleSubmitCredit},r.a.createElement("input",{className:"demo-input",name:"credit",id:b+"-credit","aria-label":"credit",placeholder:"Thêm credit",value:A,onChange:function(e){M(e.target.value)}}),r.a.createElement("button",{className:"demo-button"},e.credit||""!==e.credit?"Sửa credit":"Thêm credit"))),r.a.createElement("div",{className:"wrap",style:{justifyContent:"space-between",marginRight:"10%",marginTop:"10px"}},r.a.createElement("button",{className:"demo-button download",id:b+"-download-video",onClick:function(){e.isVideo&&d(!0)},disabled:u||!e.isVideo},e.isVideo?"Download Video":"No video found"),r.a.createElement("button",{className:"demo-button download",id:b+"-g-trans",onClick:function(){e.setHelper(!e.helper),e.setGoogleHelper()}},e.helper?"Translator helper: ON":"Translator helper: OFF"),r.a.createElement("button",{className:"demo-button",id:b+"-download-image",onClick:function(){e.url&&(h(!0),k(e.url,b))},disabled:p||!e.isImage},e.isImage?"Download Image":"No image found")),u&&r.a.createElement("iframe",{key:b,src:"https://down-583a6.web.app/?video="+btoa(e.fallbackUrl)+"&audio="+btoa(e.url+"/audio"),style:{display:"none"}}))),r.a.createElement(i.Suspense,{fallback:r.a.createElement("div",null),key:b+"-note-suspense"},r.a.createElement(C,{isOpen:a,key:b+"-note",name:b,saveNote:e.saveNote,close:function(){c(!1)}})))})))},"49sm":function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},H7XF:function(e,t,n){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],a=t[1];return 3*(n+a)/4-a},t.toByteArray=function(e){var t,n,a=l(e),r=a[0],c=a[1],s=new i(function(e,t,n){return 3*(t+n)/4-n}(0,r,c)),u=0,d=c>0?r-4:r;for(n=0;n<d;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;2===c&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,s[u++]=255&t);1===c&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t);return s},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],r=0,c=n-o;r<c;r+=16383)i.push(u(e,r,r+16383>c?c:r+16383));1===o?(t=e[n-1],i.push(a[t>>2]+a[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(a[t>>10]+a[t>>4&63]+a[t<<2&63]+"="));return i.join("")};for(var a=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,s=r.length;c<s;++c)a[c]=r[c],o[r.charCodeAt(c)]=c;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var o,i,r=[],c=t;c<n;c+=3)o=(e[c]<<16&16711680)+(e[c+1]<<8&65280)+(255&e[c+2]),r.push(a[(i=o)>>18&63]+a[i>>12&63]+a[i>>6&63]+a[63&i]);return r.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},URgk:function(e,t,n){(function(e){var a=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,a,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,a,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(a,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n("YBdB"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n("yLpj"))},YBdB:function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var a,o,i,r,c,s=1,l={},u=!1,d=e.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(e);m=m&&m.setTimeout?m:e,"[object process]"==={}.toString.call(e.process)?a=function(e){t.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){p(e.data)},a=function(e){i.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,a=function(e){var t=d.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):a=function(e){setTimeout(p,0,e)}:(r="setImmediate$"+Math.random()+"$",c=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(r)&&p(+t.data.slice(r.length))},e.addEventListener?e.addEventListener("message",c,!1):e.attachEvent("onmessage",c),a=function(t){e.postMessage(r+t,"*")}),m.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return l[s]=o,a(s),s++},m.clearImmediate=f}function f(e){delete l[e]}function p(e){if(u)setTimeout(p,0,e);else{var t=l[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{f(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n("yLpj"),n("8oxB"))},"kVK+":function(e,t){t.read=function(e,t,n,a,o){var i,r,c=8*o-a-1,s=(1<<c)-1,l=s>>1,u=-7,d=n?o-1:0,m=n?-1:1,f=e[t+d];for(d+=m,i=f&(1<<-u)-1,f>>=-u,u+=c;u>0;i=256*i+e[t+d],d+=m,u-=8);for(r=i&(1<<-u)-1,i>>=-u,u+=a;u>0;r=256*r+e[t+d],d+=m,u-=8);if(0===i)i=1-l;else{if(i===s)return r?NaN:1/0*(f?-1:1);r+=Math.pow(2,a),i-=l}return(f?-1:1)*r*Math.pow(2,i-a)},t.write=function(e,t,n,a,o,i){var r,c,s,l=8*i-o-1,u=(1<<l)-1,d=u>>1,m=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=a?0:i-1,p=a?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,r=u):(r=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-r))<1&&(r--,s*=2),(t+=r+d>=1?m/s:m*Math.pow(2,1-d))*s>=2&&(r++,s/=2),r+d>=u?(c=0,r=u):r+d>=1?(c=(t*s-1)*Math.pow(2,o),r+=d):(c=t*Math.pow(2,d-1)*Math.pow(2,o),r=0));o>=8;e[n+f]=255&c,f+=p,c/=256,o-=8);for(r=r<<o|c,l+=o;l>0;e[n+f]=255&r,f+=p,r/=256,l-=8);e[n+f-p]|=128*h}}}]);