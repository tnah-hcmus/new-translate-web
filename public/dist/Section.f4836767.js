(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"2W2T":function(e,t,n){"use strict";n.r(t);function a(e){return(new DOMParser).parseFromString("<!doctype html><body>"+e,"text/html").body.textContent}function r(e){var a=0,t=e.all_awardings.reduce(function(e,t){if("Platinum"!==t.name&&"Gold"!==t.name&&"Silver"!==t.name)return e;a++;var n=1<t.count?"s":"";return e+"x".concat(t.count," ").concat(t.name.toLowerCase()).concat(n," - ")},"");return a<3?e.all_awardings.reduce(function(e,t){return"Platinum"!==t.name&&"Gold"!==t.name&&"Silver"!==t.name&&a<3?(a++,e+"x".concat(t.count," ").concat("Press F"===t.name?"press F":t.name.toLowerCase().replace(/\(pro\)/,"pro")," - ")):e},t).replace(/(\ \-\ )$/,""):t.replace(/(\ \-\ )$/,"")}function i(e){if(1e3<e){var t=Math.floor(e/1e3);return t+"."+Math.floor((e-1e3*t)/100)+"k points"}return"".concat(e,1<e||e<-1?" points":" point")}function o(e){var t=e.media?e.media.reddit_video:null;return{subReddit:e.subreddit_name_prefixed,shortenLink:"https://redd.it/"+e.id,title:a(e.title),text:e.selftext,awards:a(r(e)),author:"u/"+e.author,upvotes:i(parseInt(e.ups)),id:e.id,fallbackUrl:t?t.fallback_url.split("?")[0]:"",url:e.url,isVideo:e.is_video,isImage:"image"===e.post_hint||"imgur.com"===e.domain,link:"https://www.reddit.com"+e.permalink}}function s(e,t){if(e)return Array.prototype.map.call(e,function(e){if(e.data.author)return{id:e.data.id,upvotes:i(parseInt(e.data.ups)),author:"u/"+e.data.author,awards:e.data.all_awardings?a(r(e.data)):"",parent:e.data.parent_id.slice(3,e.data.parent_id.length),prefixed:t,content:e.data.body,replies:""!==e.data.replies?"/"+e.data.id:"none"}}).filter(function(e){return!!e})}function c(e){return L.a.createElement("div",{className:"suggest-wrapper"},L.a.createElement("p",null,e.subReddit),L.a.createElement("div",{className:"u-avoid-clicks"},e.awards," ",e.awards&&L.a.createElement("span",{className:"demo-meta-divider"},"|")," Upvote: ",e.upvotes),L.a.createElement("a",{href:e.shortenLink,target:"_blank"},e.title,L.a.createElement("span",{className:"u-visible-to-screen-reader"},"(opens in new window)")))}function g(e){return L.a.createElement("div",{className:e.active?"demo-box demo-box-display":"demo-box"},L.a.createElement("div",{className:"demo-controls"},L.a.createElement("span",{className:"demo-response",id:e.name+"-span"})),L.a.createElement(G.a,{source:(e.content,(new DOMParser).parseFromString("<!doctype html><body>"+e.content,"text/html").body.textContent)}))}function k(t){var e=Object(P.useContext)(J.a),n=e.addTransComment,a=e.editTransComment,r=Object(P.useState)(""),i=x()(r,2),o=i[0],s=i[1],c=Object(P.useContext)(K.a),l=c.id,d=c.uuid,u=c.credit;return Object(P.useEffect)(function(){t.trans[t.name]&&(s(t.trans[t.name].body),""!==t.trans[t.name].body?t.show(1):t.show(0))},[]),L.a.createElement("div",{className:t.active?"demo-input-box demo-input-box-display":"demo-input-box"},L.a.createElement("div",{className:"demo-controls"},L.a.createElement("span",{className:"demo-response",id:t.name+"-span"})),L.a.createElement("textarea",{name:"textarea",id:t.name+"-trans",className:"expand",onFocus:function(){n(t.name,t.level,t.prefixed,t.parent,t.author,t.description)},onBlur:function(e){a(t.name,e.target.value),t.savePost().then(function(){W.a.ref(l).child(d).set({timemark:Date.now(),credit:""!==u?u:"Một member chăm chỉ nào đó"})})},value:o,onChange:function(e){s(e.target.value)}}))}var l=n("RIqP"),E=n.n(l),d=n("J4zp"),x=n.n(d),u=n("o0o1"),p=n.n(u),m=n("yXPU"),f=n.n(m),h=n("lwsE"),b=n.n(h),v=n("W8MJ"),y=n.n(v),w=n("PJYZ"),_=n.n(w),C=n("7W2i"),S=n.n(C),R=n("a1gu"),N=n.n(R),I=n("Nsbk"),T=n.n(I),O=n("lSNA"),j=n.n(O),P=n("q1tI"),L=n.n(P),D=n("/MKj"),A=n("vDqi"),M=n.n(A),B=function(){var r=f()(p.a.mark(function e(t,n,a,r){var i,o;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get(t.replace(/(\/+)$/,"")+n+".json");case 2:if(i=e.sent,null===(o=i.data[1].data.children[0].data.replies.data.children||null))return e.abrupt("return",n);e.next=6;break;case 6:return e.abrupt("return",[s(o,a+">"),r]);case 7:case"end":return e.stop()}},e)}));return function(e,t,n,a){return r.apply(this,arguments)}}(),U=function(){var t=f()(p.a.mark(function e(t){var n,a,r,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t.replace(/(\/+)$/,""),n=new RegExp("(?!www)redd.it/[^s]{2,}"),new RegExp("https?://reddit.[^s]{2,}").test(t)&&(t=t.replace(/reddit/,"www.reddit")),n.test(t)&&(t=t.replace(/redd.it/,"www.reddit.com")),e.next=7,M.a.get(t+".json");case 7:return a=e.sent,r=a.data[0].data.children[0].data,i=a.data[1].data.children,e.abrupt("return",[o(r),s(i,"")]);case 11:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),V=function(){var e=f()(p.a.mark(function e(){var t,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("https://www.reddit.com/.json");case 2:return t=e.sent,n=t.data.data.children.map(function(e){return o(e.data)}),e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),H=n("SN2k"),F=n("FjVW"),q=n("UJf/"),$=n("58q0"),z=n("IujW"),G=n.n(z),J=n("wOXs"),K=n("ivRL"),W=n("USR9");function X(o){var e=Object(P.useRef)(null);return L.a.createElement(re.a,{isOpen:o.isOpen,onRequestClose:o.close,ariaHideApp:!1,contentLabel:"Permission",closeTimeoutMS:200,className:"preview-modal prevent-modal"},L.a.createElement("a",{className:"close",onClick:o.close}),L.a.createElement("div",{className:"modal-panel"},L.a.createElement("h3",{className:"modal__title"},"Subreddit này cần có permission để dịch!"),L.a.createElement("div",null,L.a.createElement("button",{className:"button",onClick:function(){o.id;var i=e.current;navigator.clipboard.writeText(o.content).then(function(){i.innerHTML="Copied!",i.classList.add("button-click")},function(){var e=document.createElement("input");e.innerText=o.content;var t=e.contentEditable,n=e.readOnly,a=document.createRange();e.contentEditable=!0,e.readOnly=!0,a.selectNodeContents(e);var r=window.getSelection();r.removeAllRanges(),r.addRange(a),e.setSelectionRange(0,999999),e.contentEditable=t,e.readOnly=n,document.execCommand("copy"),i.innerHTML="Copied!",i.classList.add("button-click")})},ref:e},"Copy"))),L.a.createElement("h3",null,"Bạn đã có permission chưa ? Nếu chưa có hãy xin permission theo mẫu ở dưới nhé!"),L.a.createElement("p",null,o.content),L.a.createElement("button",null,L.a.createElement("a",{href:"https://docs.google.com/spreadsheets/d/1qlccnLkRCkflo2lJjjZnN0cdKSpUvBQ05XL164I2DGw/htmlview",target:"_blank"},"Cập nhật permission")))}var Z={addReplies:$.a,deleteReplies:$.c},Y=Object(D.b)(function(e,t){return{raw_replies:e.replies}},Z)(function a(r){var e=Object(P.useState)(!1),t=x()(e,2),n=t[0],i=t[1],o=Object(P.useState)(!1),s=x()(o,2),c=s[0],l=s[1],d=Object(P.useState)([]),u=x()(d,2),p=u[0],m=u[1],f=Object(P.useContext)(K.a),h=f.link,b=f.tabID,v=(Object(P.useContext)(J.a).editTransComment,Object(P.useRef)(null)),y=Object(P.useRef)(null);Object(P.useEffect)(function(){var e;r.raw_replies&&r.raw_replies[b]&&r.raw_replies[b][r.info.id]&&(e=E()(r.raw_replies[b][r.info.id]),m([].concat(E()(p),E()(e.map(function(e,t){return L.a.createElement(a,{key:e.id,parent:e.parent,info:e,link:h,tabID:b,raw_replies:r.raw_replies,addReplies:r.addReplies,savePost:r.savePost,trans:r.trans})})))))},[]);function w(){B(h,r.info.replies,r.info.prefixed,r.parent).then(function(t){var e,n=t[0].map(function(e){return e.parent=[].concat(E()(t[1]),[e.parent]),e});e=n,r.addReplies(b,r.info.id,e),m([].concat(E()(p),E()(n.map(function(e,t){return L.a.createElement(a,{key:e.id,parent:e.parent,info:e,link:h,tabID:b,raw_replies:r.raw_replies,addReplies:r.addReplies,savePost:r.savePost,trans:r.trans})}))))})}return L.a.createElement("div",{className:"demo",id:r.info.id+"-comment-wrap"},L.a.createElement("div",{className:"demo-wrapper"},L.a.createElement("div",null,L.a.createElement("button",{id:r.info.id+"-demo-toggle",className:"js-container-target demo-toggle-button",onClick:function(e){e.target.parentElement.classList.toggle("is-open"),"none"!==r.info.replies&&0===p.length&&w(),l(!c)},ref:v},r.info.prefixed,r.info.author,L.a.createElement("label",{className:"checkbox-label"},L.a.createElement("input",{type:"checkbox",onChange:function(){i(!n)},ref:y}),L.a.createElement("span",{className:"checkbox-custom rectangular",id:r.info.id+"-span"})),L.a.createElement("div",{className:"demo-meta u-avoid-clicks"},r.info.awards," ",r.info.awards&&L.a.createElement("span",{className:"demo-meta-divider"},"|")," Upvote: ",r.info.upvotes))),L.a.createElement("div",{className:n?"content-wrapper show":"content-wrapper"},L.a.createElement(g,{name:r.info.id,content:r.info.content,active:n}),L.a.createElement(k,{name:r.info.id,active:n,parent:r.parent,author:r.info.author,level:(r.info.prefixed.match(/>/g)||[]).length+1,description:" (".concat(r.info.upvotes).concat(r.info.awards&&" - ").concat(r.info.awards,")"),prefixed:r.info.prefixed,savePost:r.savePost,trans:r.trans,show:function(e){v.current.click(),e&&y.current.click()}})),L.a.createElement("div",{className:c?"":"no-display"},p)))}),Q=n("fMyU"),ee=n("IGOO"),te=(n("FNPF"),n("wd/R")),ne=n.n(te),ae=n("9rZX"),re=n.n(ae);X.defaultProps={content:"Dear ___,\r\nI've been reading your stories on nosleep and am really fascinated by them. Now I'm planning to make a Vietnamese translation for some of you stories. I DO NOT make the translation for any kind of profit, of course, I just want to translate and post them on a private group by a non-profit fanpage RVN on Facebook for Vietnamese people who are interested in nosleep stories. I will include the link to the original post as well.\r\nI am looking forward to your permission soon. Thank you.\r\nYour sincerely,\r\n___"};var ie=X,oe=["___test@author@RVN___","u/EaPAtbp","u/Zithero","u/fainting--goat"],se=["r/___test@subReddit@RVN___","r/nosleep","r/shortscarystories","r/letsnotmeet","r/wholesomenosleep"];function ce(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return le(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function de(a){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n=T()(a);return t=r?(e=T()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),N()(this,t)}}var ue=Object(P.lazy)(function(){return n.e(9).then(n.bind(null,"P82a"))}),pe=Object(P.lazy)(function(){return Promise.all([n.e(13),n.e(23),n.e(7)]).then(n.bind(null,"3irV"))}),me=Object(P.lazy)(function(){return n.e(5).then(n.bind(null,"4t4i"))}),fe=function(e){S()(r,e);var a=de(r);function r(){var u;b()(this,r);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u=a.call.apply(a,[this].concat(t)),j()(_()(u),"state",{link:"",info:{},comments:[],trans:{},content:"",credit:"",note:"",suggest:[],popover:!1,transText:"Đang dịch",search:"",alert:!1}),j()(_()(u),"checkAuthor",function(e){oe.includes(e.author)?Object(ee.confirmAlert)({title:"Author này không cho phép dịch post trong group bạn nhé :<",buttons:[{label:"Bỏ qua :-<",onClick:function(){u.props.deleteTab(u.props.tab.id,u.props.tab.category)}},{label:'Vẫn bỏ qua :">',onClick:function(){u.props.deleteTab(u.props.tab.id,u.props.tab.category)}}]}):u.savePost().then(function(){W.a.ref(e.id).child(u.props.uuid).set({timemark:Date.now(),credit:""!==u.state.credit?u.state.credit:"Một member chăm chỉ nào đó"})})}),j()(_()(u),"crawlPost",function(n,a){U(n.replace(/\?[^?]+$/,"")).then(function(){var t=f()(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.setState({link:a?t[0].link:n.replace(/\?[^?]+$/,""),info:t[0],comments:t[1]}),e.next=3,u.sleep(1e3);case 3:se.includes(t[0].subReddit)?u.setState({alert:!0}):u.checkAuthor(t[0]);case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}())}),j()(_()(u),"handleSubmitLink",function(e){var a,r,t,n,i,o,s,c;e.preventDefault(),u.props.tab.link||(a=!1,r=e.target.elements.link.value.trim()+"/",u.setState({suggest:[]}),t=new RegExp("https?://(?:www.|(?!www))reddit.[^s]{2,}|www.reddit.[^s]{2,}|https?://(?:www.|(?!www))reddit.[^s]{2,}|www.reddit.[^s]{2,}|(?!www)redd.it/[^s]{2,}"),new RegExp("https?://reddit.[^s]{2,}").test(r)&&(r=r.replace(/reddit/,"www.reddit")),t.test(r)?(n=new RegExp("(?!www)redd.it/[^s]{2,}"),s=!1,n.test(r)&&(i=new RegExp("redd.it/([a-zA-z0-9]*)"),o=r.match(i)[1],s=!0),c=new RegExp("comments/([a-zA-z0-9]*)"),o=r.match(c)[1],W.a.ref(o).once("value").then(function(e){var t,n=e.val();n?n.hasOwnProperty(u.props.uuid)?(u.props.deleteTab(u.props.tab.id,u.props.tab.category),document.getElementById("button-"+o).click()):(ne.a.locale("vi"),t=Object.entries(n).map(function(e){var t=x()(e,2),n=(t[0],t[1]),a=n.timemark,r=n.credit,i=ne()(Number(a)).fromNow();return"".concat(r," cách đây ").concat(i,".")}),Object(ee.confirmAlert)({title:"Post đang được dịch mất rồi :<, dịch bởi:",childrenElement:function(){return L.a.createElement("ul",null,t.map(function(e){return L.a.createElement("li",null,e)}))},buttons:[{label:"Bỏ qua :-<",onClick:function(){u.props.deleteTab(u.props.tab.id,u.props.tab.category)}},{label:'Vẫn dịch :">',onClick:function(){u.crawlPost(r,s)}}]})):a=!0,a&&u.crawlPost(r,s)})):(alert("Link not valid"),e.target.elements.link.value=""))}),j()(_()(u),"handleSubmitCredit",function(e){e.preventDefault();var t=e.target.elements.credit.value.trim();u.props.setCredit(t),u.setState({credit:t})}),j()(_()(u),"saveNote",function(){var e=document.getElementById(u.props.tab.id+"-note-input").value;u.setState({note:e})}),j()(_()(u),"searchComment",function(e){var t=e||"",n=document.getElementById(u.props.tab.id+"panel").getElementsByClassName("demo");if(""!==t){if(t){t=t.toUpperCase();for(var a=0;a<n.length;a++){var r,i=n[a].getElementsByTagName("button")[0],o=i.textContent||i.innerText,s=!1,c=ce(t.split(" || "));try{for(c.s();!(r=c.n()).done;){var l=r.value;-1<o.toUpperCase().indexOf(l)&&(s=!0)}}catch(e){c.e(e)}finally{c.f()}if(s)for(n[a].style.display="",parent=n[a].parentElement;!parent.classList.contains("panel");)parent.style.display="",parent=parent.parentElement;else n[a].style.display="none"}}}else for(var d=0;d<n.length;d++)n[d].style.display=""}),j()(_()(u),"handleSearch",function(e){u.setState({search:e.target.value}),u.searchComment(e.target.value)}),j()(_()(u),"addTransComment",function(a,r,i,e,o,s,c){var t=u.state.trans;if(e)for(var n in e)t[e[n]]?t[e[n]].children.includes(a)||t[e[n]].children.push(a):u.addTransComment(e[n],parseInt(n)+1,null,e.slice(0,parseInt(n)),null,null,[].concat(E()(e.slice(parseInt(n)+1,e.length)),[a]));u.setState(function(e){var t=e.trans;if(!t[a])return t[a]={body:"",level:r,prefixed:i,author:o,description:s,children:c||[]},{trans:t};if(null===t[a].prefixed){var n=t[a].children;return t[a]={body:"",level:r,prefixed:i,children:E()(n),author:o,description:s},{trans:t}}})}),j()(_()(u),"editTransComment",function(t,n){u.setState(function(e){return e.trans[t]&&(e.trans[t].body=n,u.setState({content:""})),{trans:e.trans}})}),j()(_()(u),"getTransReplies",function(t,e,n,a){var r="\r\n";return 0===e.children.length?""!==e.body.trim()&&(t=t+e.prefixed+e.author+e.description.replace(/points\ points/,"points").replace(/point\ points/,"point")+r+e.body+r):(e.children.map(function(e){n[e].level===a&&(t=t+r+u.getTransReplies("",n[e],n,a+1))}),""!==e.body.trim()&&(t=e.prefixed+e.author+e.description.replace(/points\ points/,"points").replace(/point\ points/,"point")+r+e.body+r+t)),t}),j()(_()(u),"previewContent",function(){var e="_____________________\r\n",t="\r\n",n=u.state.info,a=u.state.trans;if("7613e4b3-b617-4ab7-8e2b-8f0b49650fa0"!==u.props.uuid&&"dea13dd1-cfd2-40b1-81ad-b97960a4f196"!==u.props.uuid){if(n.id){var r,i=n.subReddit+t+n.author+" (".concat(n.upvotes).concat(n.awards&&" - ").concat(n.awards,") ")+t,o=a[n.id]||null;for(var s in o?i=i+o.body+t+e:i+=e,i=i+"Link Reddit: "+n.shortenLink+t+e+t,a){1!==a[s].level||""!==(r=u.getTransReplies("",a[s],a,2)).trim()&&(i=i+r+e+t)}i=i.replace(/\r\n$/,""),""!==u.state.note&&(i=i+u.state.note+t+e),i=i+"Dịch bởi ".concat(u.state.credit||"một member chăm chỉ dịch bài")+t+"Edited by https://rvnweb.site",u.setState({content:i.replace(/\r\n\r\n\r\n/g,"\r\n\r\n").replace(/\r\n\r\n_/,"\r\n")}),"891b984b-cb2b-4826-b286-617aef92d8df"===u.props.uuid&&W.a.ref("savelocal-text").child(n.id).set({preview:i})}}else W.a.ref("savelocal-text/".concat(n.id)).once("value").then(function(e){u.setState({content:e.val().preview})})}),j()(_()(u),"clearPreview",function(){u.setState({content:""})}),j()(_()(u),"afterRestore",function(){var e="",t=u.state.trans;for(var n in t)t[n].author&&0<t[n].level&&(e=e+t[n].prefixed+t[n].author+" || ");u.setState({search:e.replace(/\ \|\|\ $/,"")}),u.searchComment(e.replace(/\ \|\|\ $/,""))}),j()(_()(u),"savePost",f()(p.a.mark(function e(){var t,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.state.link){e.next=19;break}if(t={id:u.state.info.id,title:u.state.info.title,info:u.state.info,category:u.state.info.subReddit,link:u.state.link,note:u.state.note,iconHref:u.props.tab.iconHref,trans:u.state.trans},"blank"===u.props.tab.category||u.props.tab.category!==t.category)return u.props.addCategory(u.state.info.subReddit),u.props.deleteTab(u.props.tab.id,u.props.tab.category),u.props.replaceTabID(u.props.tab.id,t.id),u.props.addTab(t),e.next=9,u.sleep(1e3);e.next=12;break;case 9:document.getElementById("button-"+t.id).click(),e.next=19;break;case 12:(n=document.getElementById(u.props.tab.id+"-save")).innerHTML="Saving",setTimeout(function(){n.innerHTML="Saved"},2e3),setTimeout(function(){n.innerHTML="Save"},2200),u.props.updateTab(u.props.tab.id,t),u.props.tab.id!==t.id&&u.props.replaceTabID(u.props.tab.id,t.id),document.getElementById("button-"+t.id).click();case 19:case"end":return e.stop()}},e)}))),u}return y()(r,[{key:"sleep",value:function(t){return new Promise(function(e){return setTimeout(e,t)})}},{key:"componentDidMount",value:function(){var t=this,e=this.context.state.present;""!==this.props.credit&&this.setState({credit:this.props.credit}),this.props.tab.link?(this.setState({link:this.props.tab.link,info:this.props.tab.info,trans:this.props.tab.trans,note:this.props.tab.note}),U(this.props.tab.link.replace(/\?[^?]+$/,"")).then(function(e){t.setState({comments:e[1]}),t.afterRestore(),document.getElementById("loading"+t.props.tab.id).classList.toggle("hide"),document.getElementById(t.props.tab.id+"panel").classList.toggle("shown")})):(document.getElementById("loading"+this.props.tab.id).classList.toggle("hide"),document.getElementById(this.props.tab.id+"panel").classList.toggle("shown"),V().then(function(e){t.setState({suggest:e})})),e===this.props.tab.id&&document.getElementById(this.props.tab.id+"-section").classList.add("is-shown")}},{key:"render",value:function(){var n=this;return L.a.createElement("section",{id:this.props.tab.id+"-section",className:"section js-section"},L.a.createElement(K.a.Provider,{value:{tabID:this.props.tab.id,link:this.state.link,title:this.state.info.title,upvotes:this.state.info.upvotes,subReddit:this.state.info.subReddit,id:this.state.info.id,savePost:this.savePost,uuid:this.props.uuid,credit:this.state.credit}},L.a.createElement(P.Suspense,{fallback:L.a.createElement("div",null),key:this.props.tab.id+"-header-suspense"},L.a.createElement(pe,{key:this.props.tab.id+"-header",category:this.props.tab.category,iconHref:this.props.tab.iconHref,isVideo:this.state.info.isVideo,url:this.state.info.url,fallbackUrl:this.state.info.fallbackUrl,isImage:this.state.info.isImage,credit:this.state.credit,helper:this.props.helper,setGoogleHelper:this.props.setGoogleHelper,setHelper:this.props.setHelper,previewContent:this.previewContent,saveNote:this.saveNote,handleSubmitLink:this.handleSubmitLink,handleSubmitCredit:this.handleSubmitCredit})),L.a.createElement(J.a.Provider,{value:{addTransComment:this.addTransComment,editTransComment:this.editTransComment}},L.a.createElement("div",{className:this.state.info.id?"title-panel shown":"title-panel hide"},L.a.createElement(P.Suspense,{fallback:L.a.createElement("div",null),key:this.state.info.id+"-title-suspense"},L.a.createElement(ue,{key:this.state.info.id+"-title",author:this.state.info.author,awards:this.state.info.awards,content:this.state.info.text,isVideo:this.state.info.isVideo,url:this.state.info.url,fallbackUrl:this.state.info.fallbackUrl,isImage:this.state.info.isImage,trans:this.state.trans}))),L.a.createElement("p",{id:"loading"+this.props.tab.id,className:"restore",style:{textAlign:"center"}},"Restoring your trans comments, hold your apple..."),L.a.createElement("div",{className:"panel",id:this.props.tab.id+"panel"},0!==this.state.comments.length&&L.a.createElement("input",{className:"demo-input-search",name:"search",id:this.props.tab.id+"-search","aria-label":"seacrh",placeholder:"Để tìm các subcomment vui lòng expand comment chính, search multi-comment: ngăn cách bởi ' || '",onChange:this.handleSearch,value:this.state.search}),0===this.state.comments.length&&L.a.createElement("p",{className:"widget__message"},"Không biết nên dịch gì? Gợi ý một số post nhé!"),this.state.comments.map(function(e,t){return L.a.createElement(Y,{key:e.id,info:e,parent:[],tabID:n.props.tab.id,trans:n.state.trans,savePost:n.savePost})}))),this.state.suggest.map(function(e){return L.a.createElement(c,{subReddit:e.subReddit,awards:e.awards,shortenLink:e.shortenLink,upvotes:e.upvotes,author:e.author,title:e.title})}),L.a.createElement(P.Suspense,{fallback:L.a.createElement("div",null),key:this.state.info.id+"-modal-suspense"},L.a.createElement(me,{key:this.state.info.id+"-modal",isOpen:!!this.state.content,content:this.state.content,id:this.props.tab.id,clear:this.clearPreview})),"blank"===this.props.tab.category&&L.a.createElement(ie,{isOpen:this.state.alert,close:function(){n.setState({alert:!1}),n.checkAuthor(n.state.info)}})))}}]),r}(L.a.Component);j()(fe,"contextType",Q.a);var he={addTab:F.a,deleteTab:F.b,updateTab:F.d,addCategory:H.a,updateComments:F.c,replaceTabID:$.d,setCredit:function(e){return{type:q.a,payload:e}}};t.default=Object(D.b)(function(e){return{credit:e.credit}},he)(fe)},"58q0":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"d",function(){return s});var a=n("uk3O"),r=function(e,t,n){return{type:a.a,payload:{tabID:e,id:t,replies:n}}},i=function(e,t){return{type:a.c,payload:{tabID:e,id:t}}},o=function(e){return{type:a.b,payload:e}},s=function(e,t){return{type:a.d,payload:{currentTabID:e,newTabID:t}}}},FjVW:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return s});var a=n("m6fk"),r=function(e,t){return{type:a.e,payload:{id:e,category:t}}},i=function(t){return t.id=t.id||"xxyyx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),function(e){e({type:a.b,payload:t})}},o=function(e,t){return{type:a.g,payload:{id:e,info:t}}},s=function(e,t){return{type:a.f,payload:{id:e,trans:t}}}},SN2k:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var a=n("m6fk"),r=function(e){return{type:a.c,payload:e}},i=function(e){return{type:a.a,payload:{name:e}}}},dKwb:function(e,t,n){var a={"./vi":"KSF8","./vi.js":"KSF8"};function r(e){var t=i(e);return n(t)}function i(e){if(n.o(a,e))return a[e];var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return Object.keys(a)},r.resolve=i,(e.exports=r).id="dKwb"},ivRL:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a).a.createContext();t.a=r},wOXs:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a).a.createContext();t.a=r}}]);