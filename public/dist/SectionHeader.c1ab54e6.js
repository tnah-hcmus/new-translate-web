(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{oZis:function(e,t,n){"use strict";n.r(t);var a=n("J4zp"),E=n.n(a),k=n("q1tI"),v=n.n(k),o=n("FjVW"),i=n("/MKj"),N=n("IGOO"),O=(n("FNPF"),n("OLdS")),l=n("vDqi"),C=n.n(l),r=n("xOOu"),j=n.n(r),T=Object(k.lazy)(function(){return Promise.all([n.e(1),n.e(6)]).then(n.bind(null,"/H3m"))}),c={deleteTab:o.b};t.default=Object(i.b)(null,c)(function(n){function i(e,t){var n=window.URL.createObjectURL(new Blob([e])),a=document.createElement("a");a.href=n,a.setAttribute("download",t),document.body.appendChild(a),a.click()}var e=Object(k.useState)(!1),t=E()(e,2),a=t[0],o=t[1],l=Object(k.useState)(!1),r=E()(l,2),c=r[0],s=r[1],d=Object(k.useState)(!1),u=E()(d,2),m=u[0],p=u[1],b=Object(k.useContext)(O.a),h=b.tabID,f=b.link,g=b.title,w=b.subReddit,y=b.upvotes;return v.a.createElement("header",{className:"section-header"},v.a.createElement("div",{className:"section-wrapper"},v.a.createElement("h1",null,v.a.createElement("svg",{className:"section-icon"},v.a.createElement("use",{xlinkHref:n.iconHref})),g?g+" (Subreddit: ".concat(w," | ").concat(y," points)"):"Tab này chưa có bài dịch nào"),v.a.createElement("div",null,v.a.createElement("form",{onSubmit:n.handleSubmitLink,style:{display:"flex"}},v.a.createElement("input",{className:"demo-input",name:"link","aria-label":"Link to translate",placeholder:"Nhập link reddit để bắt đầu dịch",defaultValue:f.replace(/(\/+)$/,"")||"",disabled:""!==f}),v.a.createElement("button",{className:"demo-button"},"Bắt đầu dịch")),v.a.createElement("p",null,"Mở ",v.a.createElement("a",{href:f?f.replace(/(\/+)$/,""):"blank"!==n.category?"https://www.reddit.com/".concat(n.category):"https://www.reddit.com/",target:"_blank"},"link reddit này",v.a.createElement("span",{className:"u-visible-to-screen-reader"},"(opens in new window)"))," trong tab mới."),v.a.createElement("div",{className:"wrap",style:{justifyContent:"space-between",marginRight:"10%"}},v.a.createElement("div",{style:{marginBottom:"5px"}},v.a.createElement("button",{className:"demo-button",id:h+"-preview",onClick:n.previewContent},"Preview"),v.a.createElement("button",{className:"demo-button",id:h+"-note",onClick:function(){return o(!0)}},"Note"),v.a.createElement("button",{className:"demo-button",id:h+"-save",onClick:n.savePost},"Save"),v.a.createElement("button",{className:"demo-button",id:h+"-delete",onClick:function(){Object(N.confirmAlert)({title:"Bạn chắc chứ ?",message:"Bạn thật sự muốn xoá tab này ?",buttons:[{label:"Xoá",onClick:function(){return n.deleteTab(h,n.category)}},{label:"Mình nhầm"}]})}},"Delete")),v.a.createElement("form",{style:{display:"flex"},onSubmit:n.handleSubmitCredit},v.a.createElement("input",{className:"demo-input",name:"credit",id:h+"-credit","aria-label":"credit",placeholder:"Thêm credit",defaultValue:""}),v.a.createElement("button",{className:"demo-button"},"Thêm credit"))),v.a.createElement("div",{className:"wrap",style:{justifyContent:"space-between",marginRight:"10%",marginTop:"10px"}},v.a.createElement("button",{className:"demo-button download",id:h+"-download-video",onClick:function(){n.isVideo&&s(!0)},disabled:c||!n.isVideo},n.isVideo?"Download Video":"No video found"),v.a.createElement("button",{className:"demo-button",id:h+"-download-image",onClick:function(){var a,o,e,t;n.url&&(p(!0),(a=document.getElementById(h+"-download-image")).innerHTML="Downloading",-1!==(t=n.url).indexOf(".jpg")||-1!==t.indexOf(".png")||-1!==t.indexOf(".gif")||-1!==t.indexOf(".gifv")?C.a.get("https://young-moon-cab4.tnah-work.workers.dev/?"+n.url,{responseType:"arraybuffer",headers:{"Content-Type":"application/json",Accept:"application/png"}}).then(function(e){i(e.data,"RVN_helper_"+h+".png"),a.innerHTML="Downloaded"}).catch(function(e){return console.log(e)}):n.url.startsWith("http://imgur.com/a/")||n.url.startsWith("https://imgur.com/a/")?(o=n.url.substring(n.url.lastIndexOf("/")+1),C.a.get("https://api.imgur.com/3/album/"+o,{headers:{"Content-Type":"application/json",authorization:"Client-ID 0d6763dedc73059"}}).then(function(e){var n=new j.a,t=e.data.data.images.map(function(t){return C.a.get("https://young-moon-cab4.tnah-work.workers.dev/?"+t.link,{responseType:"arraybuffer",headers:{"Content-Type":"application/json"}}).then(function(e){n.file(t.id+".png",e.data,{base64:!0})})});Promise.all(t).then(function(){n.generateAsync({type:"uint8array"}).then(function(e){i(e,"RVN-"+o+".zip"),a.innerHTML="Downloaded"})})})):(n.url.startsWith("http://imgur.com/")||n.url.startsWith("https://imgur.com/"))&&(e=url.substring(url.lastIndexOf("/")+1),C.a.get("https://api.imgur.com/3/image/"+e,{responseType:"arraybuffer",headers:{"Content-Type":"application/json",Accept:"application/png",authorization:"Client-ID 0d6763dedc73059"}}).then(function(e){i(e.data,"RVN_helper_"+h+".png"),a.innerHTML="Downloaded"}).catch(function(e){return console.log(e)})))},disabled:m||!n.isImage},n.isImage?"Download Image":"No image found")),c&&v.a.createElement("iframe",{key:h,src:"https://down-583a6.web.app/?video="+btoa(n.fallbackUrl)+"&audio="+btoa(n.url+"/audio"),style:{display:"none"}}))),v.a.createElement(k.Suspense,{fallback:v.a.createElement("div",null),key:h+"-note-suspense"},v.a.createElement(T,{isOpen:a,key:h+"-note",name:h,saveNote:n.saveNote,close:function(){o(!1)}})))})}}]);