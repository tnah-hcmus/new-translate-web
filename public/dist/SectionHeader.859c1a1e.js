(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{oZis:function(e,t,a){"use strict";a.r(t);function p(e,t){var a=window.URL.createObjectURL(new Blob([e])),n=document.createElement("a");n.href=a,n.setAttribute("download",t),document.body.appendChild(n),n.click()}var n=a("J4zp"),y=a.n(n),k=a("q1tI"),v=a.n(k),o=a("FjVW"),i=a("/MKj"),r=a("o0o1"),b=a.n(r),l=a("yXPU"),c=a.n(l),s=a("vDqi"),f=a.n(s),d=a("xOOu"),h=a.n(d),E=function(){var a=c()(b.a.mark(function e(a,n){var o,i,r,l,c,s,d,m,u;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((o=document.getElementById(n+"-download-image")).innerHTML="Downloading",-1!==(t=a).indexOf(".jpg")||-1!==t.indexOf(".png")||-1!==t.indexOf(".gif")||-1!==t.indexOf(".gifv"))return e.next=5,f.a.get("https://young-moon-cab4.tnah-work.workers.dev/?"+a,{responseType:"arraybuffer",headers:{"Content-Type":"application/json",Accept:"application/image/*"}});e.next=10;break;case 5:i=e.sent,p(i.data,"RVN_helper_"+n),o.innerHTML="Downloaded",e.next=33;break;case 10:if(a.startsWith("http://imgur.com/a/")||a.startsWith("https://imgur.com/a/"))return r=a.substring(a.lastIndexOf("/")+1),e.next=14,f.a.get("https://api.imgur.com/3/album/"+r,{headers:{"Content-Type":"application/json",authorization:"Client-ID 0d6763dedc73059"}});e.next=26;break;case 14:return l=e.sent,c=new h.a,s=l.data.data.images.map(function(t){return f.a.get("https://young-moon-cab4.tnah-work.workers.dev/?"+t.link,{responseType:"arraybuffer",headers:{"Content-Type":"application/json"}}).then(function(e){c.file(t.id+".png",e.data,{base64:!0})})}),e.next=19,Promise.all(s);case 19:return e.next=21,c.generateAsync({type:"uint8array"});case 21:d=e.sent,p(d,"RVN-"+r+".zip"),o.innerHTML="Downloaded",e.next=33;break;case 26:if(a.startsWith("http://imgur.com/")||a.startsWith("https://imgur.com/"))return m=a.substring(a.lastIndexOf("/")+1),e.next=30,f.a.get("https://api.imgur.com/3/image/"+m,{responseType:"arraybuffer",headers:{"Content-Type":"application/json",Accept:"application/image/*",authorization:"Client-ID 0d6763dedc73059"}});e.next=33;break;case 30:u=e.sent,p(u.data,"RVN_helper_"+n),o.innerHTML="Downloaded";case 33:case"end":return e.stop()}var t},e)}));return function(e,t){return a.apply(this,arguments)}}(),N=a("IGOO"),x=(a("FNPF"),a("OLdS")),O=Object(k.lazy)(function(){return Promise.all([a.e(1),a.e(6)]).then(a.bind(null,"/H3m"))}),m={deleteTab:o.b};t.default=Object(i.b)(null,m)(function(e){var t=Object(k.useState)(!1),a=y()(t,2),n=a[0],o=a[1],i=Object(k.useState)(!1),r=y()(i,2),l=r[0],c=r[1],s=Object(k.useState)(!1),d=y()(s,2),m=d[0],u=d[1],p=Object(k.useContext)(x.a),b=p.tabID,f=p.link,h=p.title,w=p.subReddit,g=p.upvotes;return v.a.createElement("header",{className:"section-header"},v.a.createElement("div",{className:"section-wrapper"},v.a.createElement("h1",null,v.a.createElement("svg",{className:"section-icon"},v.a.createElement("use",{xlinkHref:e.iconHref})),h?h+" (Subreddit: ".concat(w," | ").concat(g," points)"):"Tab này chưa có bài dịch nào"),v.a.createElement("div",null,v.a.createElement("form",{onSubmit:e.handleSubmitLink,style:{display:"flex"}},v.a.createElement("input",{className:"demo-input",name:"link","aria-label":"Link to translate",placeholder:"Nhập link reddit để bắt đầu dịch",defaultValue:f.replace(/(\/+)$/,"")||"",disabled:""!==f}),v.a.createElement("button",{className:"demo-button"},"Bắt đầu dịch")),v.a.createElement("p",null,"Mở ",v.a.createElement("a",{href:f?f.replace(/(\/+)$/,""):"blank"!==e.category?"https://www.reddit.com/".concat(e.category):"https://www.reddit.com/",target:"_blank"},"link reddit này",v.a.createElement("span",{className:"u-visible-to-screen-reader"},"(opens in new window)"))," trong tab mới."),v.a.createElement("div",{className:"wrap",style:{justifyContent:"space-between",marginRight:"10%"}},v.a.createElement("div",{style:{marginBottom:"5px"}},v.a.createElement("button",{className:"demo-button",id:b+"-preview",onClick:e.previewContent},"Preview"),v.a.createElement("button",{className:"demo-button",id:b+"-note",onClick:function(){return o(!0)}},"Note"),v.a.createElement("button",{className:"demo-button",id:b+"-save",onClick:e.savePost},"Save"),v.a.createElement("button",{className:"demo-button",id:b+"-delete",onClick:function(){Object(N.confirmAlert)({title:"Bạn chắc chứ ?",message:"Bạn thật sự muốn xoá tab này ?",buttons:[{label:"Xoá",onClick:function(){return e.deleteTab(b,e.category)}},{label:"Mình nhầm"}]})}},"Delete")),v.a.createElement("form",{style:{display:"flex"},onSubmit:e.handleSubmitCredit},v.a.createElement("input",{className:"demo-input",name:"credit",id:b+"-credit","aria-label":"credit",placeholder:"Thêm credit",defaultValue:""}),v.a.createElement("button",{className:"demo-button"},"Thêm credit"))),v.a.createElement("div",{className:"wrap",style:{justifyContent:"space-between",marginRight:"10%",marginTop:"10px"}},v.a.createElement("button",{className:"demo-button download",id:b+"-download-video",onClick:function(){e.isVideo&&c(!0)},disabled:l||!e.isVideo},e.isVideo?"Download Video":"No video found"),v.a.createElement("button",{className:"demo-button",id:b+"-download-image",onClick:function(){e.url&&(u(!0),E(e.url,b))},disabled:m||!e.isImage},e.isImage?"Download Image":"No image found")),l&&v.a.createElement("iframe",{key:b,src:"https://down-583a6.web.app/?video="+btoa(e.fallbackUrl)+"&audio="+btoa(e.url+"/audio"),style:{display:"none"}}))),v.a.createElement(k.Suspense,{fallback:v.a.createElement("div",null),key:b+"-note-suspense"},v.a.createElement(O,{isOpen:n,key:b+"-note",name:b,saveNote:e.saveNote,close:function(){o(!1)}})))})}}]);