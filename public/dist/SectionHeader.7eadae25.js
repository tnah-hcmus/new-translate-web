(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"3irV":function(e,t,n){"use strict";n.r(t);function d(e){return(e=/[^/\\&\?]+\.\w{3,4}(?=[\?&].*$|$)/.exec(e)[0]).substring(e.lastIndexOf("."))}function u(e,t){var n=window.URL.createObjectURL(new Blob([e]));(e=document.createElement("a")).href=n,e.setAttribute("download",t),document.body.appendChild(e),e.click()}var a=n("J4zp"),y=n.n(a),o=n("pVnL"),r=n.n(o),i=n("QILm"),c=n.n(i),w=n("q1tI"),v=n.n(w),l=n("FjVW"),a=n("58q0"),o=n("/MKj"),i=n("yXPU"),s=n.n(i),i=n("o0o1"),m=n.n(i),i=n("vDqi"),f=n.n(i),i=n("xOOu"),p=n.n(i),k=function(){var n=s()(m.a.mark(function e(n,a){var o,r,i,c,l,s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((o=document.getElementById(a+"-download-image")).innerHTML="Downloading",-1!==(t=n).indexOf(".jpg")||-1!==t.indexOf(".png")||-1!==t.indexOf(".gif")||-1!==t.indexOf(".gifv"))return e.next=5,f.a.get("https://young-moon-cab4.tnah-work.workers.dev/?"+n,{responseType:"arraybuffer",headers:{"Content-Type":"application/json",Accept:"application/image/*"}});e.next=10;break;case 5:r=e.sent,u(r.data,"RVN-"+a+d(n)),o.innerHTML="Downloaded",e.next=33;break;case 10:if(n.startsWith("http://imgur.com/a/")||n.startsWith("https://imgur.com/a/"))return i=n.substring(n.lastIndexOf("/")+1),e.next=14,f.a.get("https://api.imgur.com/3/album/"+i,{headers:{"Content-Type":"application/json",authorization:"Client-ID 0d6763dedc73059"}});e.next=26;break;case 14:return l=e.sent,c=new p.a,l=l.data.data.images.map(function(t){return f.a.get("https://young-moon-cab4.tnah-work.workers.dev/?"+t.link,{responseType:"arraybuffer",headers:{"Content-Type":"application/json"}}).then(function(e){c.file(t.id+d(n),e.data,{base64:!0})}).catch(function(e){console.log(e)})}),e.next=19,Promise.all(l);case 19:return e.next=21,c.generateAsync({type:"uint8array"});case 21:l=e.sent,u(l,"RVN-"+i+".zip"),o.innerHTML="Downloaded",e.next=33;break;case 26:if(n.startsWith("http://imgur.com/")||n.startsWith("https://imgur.com/"))return s=n.substring(n.lastIndexOf("/")+1),e.next=30,f.a.get("https://api.imgur.com/3/image/"+s,{responseType:"arraybuffer",headers:{"Content-Type":"application/json",authorization:"Client-ID 0d6763dedc73059"}});e.next=33;break;case 30:s=e.sent,u(s.data,"RVN-"+a+d(n)),o.innerHTML="Downloaded";case 33:case"end":return e.stop()}var t},e)}));return function(e,t){return n.apply(this,arguments)}}(),E=n("IGOO"),C=(n("FNPF"),n("vQVb")),T=n("ZGBi"),h=n("UhlP"),i=n("H2TA"),x=Object(w.lazy)(function(){return n.e(2).then(n.bind(null,"587b"))}),I={0:"Save",1:"Saving",2:"Saved"},N=Object(i.a)(function(e){return{root:{width:42,height:26,padding:0,margin:e.spacing(1)},switchBase:{padding:1,"&$checked":{transform:"translateX(16px)",color:e.palette.common.white,"& + $track":{backgroundColor:"var(--color-accent)",opacity:1,border:"none"}},"&$focusVisible $thumb":{color:"var(--color-accent)",border:"6px solid #fff"}},thumb:{width:24,height:24},track:{borderRadius:13,border:"1px solid ".concat(e.palette.grey[200]),backgroundColor:e.palette.grey[50],opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{},focusVisible:{}}})(function(e){var t=e.classes,e=c()(e,["classes"]);return v.a.createElement(h.a,r()({focusVisibleClassName:t.focusVisible,disableRipple:!0,classes:{root:t.root,switchBase:t.switchBase,thumb:t.thumb,track:t.track,checked:t.checked}},e))}),a={deleteTab:l.b,deleteAllReplies:a.b};t.default=v.a.memo(Object(o.b)(null,a)(function(t){var e=Object(w.useState)(!1),n=y()(e,2),a=n[0],o=n[1],r=Object(w.useState)(!1),i=y()(r,2),c=i[0],l=i[1],s=Object(w.useState)(!1),d=y()(s,2),e=d[0],u=d[1],m=t.tabID,n=t.link,r=t.title,i=t.subReddit,s=t.upvotes,f=t.id,p=t.uuid,h=t.savePost,d=Object(w.useState)(""),d=y()(d,2),b=d[0],g=d[1];Object(w.useEffect)(function(){""!==t.credit&&g(t.credit)},[t.credit]);return v.a.createElement("header",{className:"section-header"},v.a.createElement("div",{className:"section-wrapper"},v.a.createElement("h1",null,v.a.createElement("svg",{className:"section-icon"},v.a.createElement("use",{xlinkHref:t.iconHref})),r?r+" (Subreddit: ".concat(i," | ").concat(s," points)"):"Tab này chưa có bài dịch nào"),v.a.createElement("div",null,v.a.createElement("form",{onSubmit:t.handleSubmitLink,style:{display:"flex"}},v.a.createElement("input",{className:"demo-input",name:"link","aria-label":"Link to translate",placeholder:"Nhập link reddit để bắt đầu dịch",defaultValue:n.replace(/(\/+)$/,"")||"",disabled:""!==n}),v.a.createElement("button",{className:"demo-button"},"Bắt đầu dịch")),v.a.createElement("p",null,"Mở ",v.a.createElement("a",{href:n?n.replace(/(\/+)$/,""):"blank"!==t.category?"https://www.reddit.com/".concat(t.category):"https://www.reddit.com/",target:"_blank"},"link reddit này",v.a.createElement("span",{className:"u-visible-to-screen-reader"},"(opens in new window)"))," trong tab mới."),v.a.createElement("div",{className:"wrap",style:{justifyContent:"space-between",marginRight:"10%"}},v.a.createElement("div",{style:{marginBottom:"5px"}},v.a.createElement("button",{className:"demo-button",id:m+"-preview",onClick:t.previewContent},"Preview"),v.a.createElement("button",{className:"demo-button",id:m+"-note",onClick:function(){return o(!0)}},"Note"),v.a.createElement("button",{className:"demo-button",id:m+"-save",onClick:function(){h(null,{id:f,uuid:p,data:{timemark:Date.now(),value:""!==b?b:"Một member chăm chỉ nào đó"}})}},I[t.saveState]),v.a.createElement("button",{className:"demo-button",id:m+"-delete",onClick:function(){Object(E.confirmAlert)({title:"Bạn chắc chứ ?",message:"Bạn thật sự muốn xoá tab này ?",buttons:[{label:"Xoá",onClick:function(){t.deleteTab(m,t.category,t.setActiveSection),t.deleteAllReplies(m),Object(C.a)(f,p)}},{label:"Mình nhầm"}]})}},"Delete")),v.a.createElement("form",{style:{display:"flex"},onSubmit:t.handleSubmitCredit},v.a.createElement("input",{className:"demo-input",name:"credit",id:m+"-credit","aria-label":"credit",placeholder:"Thêm credit",value:b,onChange:function(e){g(e.target.value)}}),v.a.createElement("button",{className:"demo-button"},t.credit||""!==t.credit?"Sửa credit":"Thêm credit"))),v.a.createElement("div",{className:"wrap",style:{justifyContent:"space-between",marginRight:"10%",marginTop:"10px"}},v.a.createElement("button",{className:"demo-button download",id:m+"-download-video",onClick:function(){t.isVideo&&l(!0)},disabled:c||!t.isVideo},t.isVideo?"Download Video":"No video found"),v.a.createElement(T.a,{classes:{label:"demo-text"},control:v.a.createElement(N,{checked:t.helper,onChange:function(e){t.setHelper(e.target.checked),t.setGoogleHelper()},name:"translatorHelper"}),label:"Translator helper"}),v.a.createElement(T.a,{classes:{label:"demo-text"},control:v.a.createElement(N,{checked:t.fullCrawl,onChange:function(e){return t.updateCrawl(e.target.checked)},name:"Fullcomment"}),label:"Full comments"}),v.a.createElement("button",{className:"demo-button",id:m+"-download-image",onClick:function(){t.url&&(u(!0),k(t.url,m))},disabled:e||!t.isImage},t.isImage?"Download Image":"No image found")),c&&v.a.createElement("iframe",{key:m,src:"https://down-583a6.web.app/?video="+btoa(t.fallbackUrl)+"&audio="+btoa(t.url+"/audio"),style:{display:"none"}}))),v.a.createElement(w.Suspense,{fallback:v.a.createElement("div",null),key:m+"-note-suspense"},v.a.createElement(x,{isOpen:a,key:m+"-note",name:m,saveNote:t.saveNote,close:function(){o(!1)}})))}))},"49sm":function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},H7XF:function(e,t,n){"use strict";t.byteLength=function(e){var t=d(e),e=t[0],t=t[1];return 3*(e+t)/4-t},t.toByteArray=function(e){var t,n,a=d(e),o=a[0],a=a[1],r=new s(function(e,t){return 3*(e+t)/4-t}(o,a)),i=0,c=0<a?o-4:o;for(n=0;n<c;n+=4)t=l[e.charCodeAt(n)]<<18|l[e.charCodeAt(n+1)]<<12|l[e.charCodeAt(n+2)]<<6|l[e.charCodeAt(n+3)],r[i++]=t>>16&255,r[i++]=t>>8&255,r[i++]=255&t;2===a&&(t=l[e.charCodeAt(n)]<<2|l[e.charCodeAt(n+1)]>>4,r[i++]=255&t);1===a&&(t=l[e.charCodeAt(n)]<<10|l[e.charCodeAt(n+1)]<<4|l[e.charCodeAt(n+2)]>>2,r[i++]=t>>8&255,r[i++]=255&t);return r},t.fromByteArray=function(e){for(var t,n=e.length,a=n%3,o=[],r=0,i=n-a;r<i;r+=16383)o.push(function(e,t,n){for(var a,o=[],r=t;r<n;r+=3)a=(e[r]<<16&16711680)+(e[r+1]<<8&65280)+(255&e[r+2]),o.push(function(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}(a));return o.join("")}(e,r,i<r+16383?i:r+16383));1==a?(t=e[n-1],o.push(c[t>>2]+c[t<<4&63]+"==")):2==a&&(t=(e[n-2]<<8)+e[n-1],o.push(c[t>>10]+c[t>>4&63]+c[t<<2&63]+"="));return o.join("")};for(var c=[],l=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,r=a.length;o<r;++o)c[o]=a[o],l[a.charCodeAt(o)]=o;function d(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");e=e.indexOf("=");return[e=-1===e?t:e,e===t?0:4-e%4]}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},URgk:function(e,o,r){!function(e){var t=void 0!==e&&e||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}o.setTimeout=function(){return new a(n.call(setTimeout,t,arguments),clearTimeout)},o.setInterval=function(){return new a(n.call(setInterval,t,arguments),clearInterval)},o.clearTimeout=o.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(t,this._id)},o.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},o.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},o._unrefActive=o.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r("YBdB"),o.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,o.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}.call(this,r("yLpj"))},YBdB:function(e,t,n){!function(e,f){!function(n,a){"use strict";var o,r,i,c,l,s,t,e;function d(e){delete r[e]}function u(e){if(i)setTimeout(u,0,e);else{var t=r[e];if(t){i=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(a,n)}}(t)}finally{d(e),i=!1}}}}function m(){function e(e){e.source===n&&"string"==typeof e.data&&0===e.data.indexOf(t)&&u(+e.data.slice(t.length))}var t="setImmediate$"+Math.random()+"$";n.addEventListener?n.addEventListener("message",e,!1):n.attachEvent("onmessage",e),l=function(e){n.postMessage(t+e,"*")}}n.setImmediate||(o=1,i=!(r={}),c=n.document,e=(e=Object.getPrototypeOf&&Object.getPrototypeOf(n))&&e.setTimeout?e:n,"[object process]"==={}.toString.call(n.process)?l=function(e){f.nextTick(function(){u(e)})}:!function(){if(n.postMessage&&!n.importScripts){var e=!0,t=n.onmessage;return n.onmessage=function(){e=!1},n.postMessage("","*"),n.onmessage=t,e}}()?l=n.MessageChannel?((t=new MessageChannel).port1.onmessage=function(e){u(e.data)},function(e){t.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(s=c.documentElement,function(e){var t=c.createElement("script");t.onreadystatechange=function(){u(e),t.onreadystatechange=null,s.removeChild(t),t=null},s.appendChild(t)}):function(e){setTimeout(u,0,e)}:m(),e.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];return r[o]={callback:e,args:t},l(o),o++},e.clearImmediate=d)}("undefined"==typeof self?void 0===e?this:e:self)}.call(this,n("yLpj"),n("8oxB"))},"kVK+":function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,a,o){var r,i,c=8*o-a-1,l=(1<<c)-1,s=l>>1,d=-7,u=n?o-1:0,m=n?-1:1,n=e[t+u];for(u+=m,r=n&(1<<-d)-1,n>>=-d,d+=c;0<d;r=256*r+e[t+u],u+=m,d-=8);for(i=r&(1<<-d)-1,r>>=-d,d+=a;0<d;i=256*i+e[t+u],u+=m,d-=8);if(0===r)r=1-s;else{if(r===l)return i?NaN:1/0*(n?-1:1);i+=Math.pow(2,a),r-=s}return(n?-1:1)*i*Math.pow(2,r-a)},t.write=function(e,t,n,a,o,r){var i,c,l=8*r-o-1,s=(1<<l)-1,d=s>>1,u=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,m=a?0:r-1,f=a?1:-1,r=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,i=s):(i=Math.floor(Math.log(t)/Math.LN2),t*(a=Math.pow(2,-i))<1&&(i--,a*=2),2<=(t+=1<=i+d?u/a:u*Math.pow(2,1-d))*a&&(i++,a/=2),s<=i+d?(c=0,i=s):1<=i+d?(c=(t*a-1)*Math.pow(2,o),i+=d):(c=t*Math.pow(2,d-1)*Math.pow(2,o),i=0));8<=o;e[n+m]=255&c,m+=f,c/=256,o-=8);for(i=i<<o|c,l+=o;0<l;e[n+m]=255&i,m+=f,i/=256,l-=8);e[n+m-f]|=128*r}}}]);