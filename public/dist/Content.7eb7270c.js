(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{O6Uj:function(e,t,n){"use strict";n.r(t);function m(e,t,n,a){var r=(3<arguments.length&&void 0!==a?a:"")+"https://translate.googleapis.com/translate_a/single?client=gtx&sl=".concat(t,"&tl=").concat(n,"&dt=t&dt=bd&dj=1&q=").concat(encodeURIComponent(e)),o=new XMLHttpRequest;return o.responseType="json",o.open("GET",r),o.send(),new Promise(function(e,t){o.onload=function(){e(o)},o.onerror=function(){e(o)}})}function f(e){var t={resultText:"",candidateText:"",sourceLanguage:"",percentage:0,statusText:""};return 0===e.status?t.statusText="Network Error":200===e.status?t.statusText="OK":429===e.status||503===e.status?t.statusText="Service Unavailable":t.statusText=e.statusText||e.status,"OK"!==t.statusText||(t.sourceLanguage=e.response.src,t.percentage=e.response.ld_result.srclangs_confidences[0],t.resultText=e.response.sentences.map(function(e){return e.trans}).join(""),e.response.dict&&(t.candidateText=e.response.dict.map(function(e){return"".concat(e.pos).concat(""!=e.pos?": ":"").concat(e.terms.join(", "),"\n")}).join(""))),t}function s(t){var e,n=(e="",window.getSelection?e=window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&(e=document.selection.createRange().text),e);""===n?t&&(t.style.opacity=0):t&&T(n).then(function(e){return t.innerHTML=e.resultText})}function u(e){if("Worker done"===e.data||"Download done"===e.data||"Load worker"===e.data||"Loading"===e.data||"Loaded"===e.data){var t=document.getElementsByClassName("is-shown")[0].getElementsByClassName("download")[0];switch(e.data){case"Worker done":t.innerHTML="Downloaded";break;case"Download done":t.innerHTML="Combining";break;case"Load worker":t.innerHTML="Loading service worker";break;case"Loading":t.innerHTML="Loading";break;case"Loaded":t.innerHTML="Downloading"}}}function a(n){function a(){var e;r?(document.onselectionchange=null,n.setPopover(!1)):(n.setPopover(!0),e=null,document.onselectionchange=function(){e&&clearTimeout(e),e=setTimeout(function(){s(n.popoverRef.current)},500)})}var e=Object(i.useState)(!1),t=c()(e,2),r=t[0],o=t[1];return Object(i.useEffect)(function(){return window.addEventListener("message",u),function(){window.removeEventListener("message",u),document.onselectionchange=null}},[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("main",{className:"content js-content"},0===n.tabs.length&&l.a.createElement("p",{className:"widget__message"}),n.tabs.map(function(e,t){return"guide"!==e.category?l.a.createElement(i.Suspense,{fallback:l.a.createElement("div",null),key:t},l.a.createElement(v,{key:e.id,tab:e,helper:r,uuid:n.uuid,setGoogleHelper:a,setHelper:o})):l.a.createElement(i.Suspense,{fallback:l.a.createElement("div",null),key:t},l.a.createElement(x,{key:e.id,id:e.id,link:e.link}))})))}var r=n("J4zp"),c=n.n(r),i=n("q1tI"),l=n.n(i),o=n("/MKj"),d=n("o0o1"),w=n.n(d),g=n("yXPU"),p=n.n(g),b=[],T=function(){var t=p()(w.a.mark(function e(o){var s,u,c,i,l,d,g,p=arguments;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=1<p.length&&void 0!==p[1]?p[1]:"auto",u=2<p.length&&void 0!==p[2]?p[2]:"vi",""===(o=o.trim()))return e.abrupt("return",{resultText:"",candidateText:"",sourceLanguage:"en",percentage:0,statusText:"OK"});e.next=5;break;case 5:if(c=function(t,n,a){return b.find(function(e){return e.sourceWord==t&&e.sourceLang==n&&e.targetLang==a&&"OK"==e.result.statusText})}(o,s,u))return e.abrupt("return",c.result);e.next=8;break;case 8:return e.next=10,m(o,s,u);case 10:if(i=e.sent,"OK"!==(l=f(i)).statusText)return console.log("Out of quota, use worker proxy instead"),e.next=16,m(o,s,u,"https://young-moon-cab4.tnah-work.workers.dev/?");e.next=20;break;case 16:return d=e.sent,"OK"!==(g=f(d)).statusText&&(g.resultText="Quá hạn mức sử dụng của google translate API, vui lòng thử lại sau 1 tiếng!"),e.abrupt("return",g);case 20:return t=o,n=s,a=u,r=l,b.push({sourceWord:t,sourceLang:n,targetLang:a,result:r}),e.abrupt("return",l);case 22:case"end":return e.stop()}var t,n,a,r},e)}));return function(e){return t.apply(this,arguments)}}(),v=Object(i.lazy)(function(){return Promise.all([n.e(1),n.e(23),n.e(14),n.e(20),n.e(8)]).then(n.bind(null,"2W2T"))}),x=Object(i.lazy)(function(){return n.e(3).then(n.bind(null,"/T0O"))});t.default=Object(o.b)(function(e){return{tabs:e.tabs}},null)(l.a.memo(a))}}]);